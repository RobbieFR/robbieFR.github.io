


<!DOCTYPE html>
<html lang="en"> 

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚧Calcul de Moyenne</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <br></br><br></br>
    <h1>Calcul de Moyenne (instable)</h1>
    <form id="gradeForm">
        🚧TRAVAUX EN COURS🚧
        (Merci de ne pas déranger les travailleurs)
        <br></br>
        <label for="qcm101">QCM 101:</label>
        <input type="number" id="qcm101" name="qcm101" step="1" required><br>
        🚧🧑‍🏭
        <label for="qcm101bis">QCM 101 BIS:</label>
        <input type="number" id="qcm101bis" name="qcm101bis" step="1" required><br>
        
        <label for="qcm102">QCM 102:</label>
        <input type="number" id="qcm102" name="qcm102" step="1" required><br>

        <label for="mds1">Ecrit MDS1:</label>
        <input type="number" id="mds1" name="mds1" step="1" required><br>
        ⚒️
        <label for="qcm103">QCM 103:</label>
        <input type="number" id="qcm103" name="qcm103" step="1" required><br>

        <label for="lean">TDM Lean:</label>
        <input type="number" id="lean" name="lean" step="1" required><br>

        <label for="qcm104">QCM🧑‍🔬 104:</label>
        <input type="number" id="qcm104" name="qcm104" step="1" required><br>

        <label for="qcm105">QCM 105:</label>
        <input type="number" id="qcm105" name="qcm105" step="1" required><br>

        <label for="mds2">Ecrit MDS2:</label>
        <input type="number" id="mds2" name="mds2" step="1" required><br>


        <label for="ds1">DS1:🧑‍💻</label>
        <input type="number" id="ds1" name="ds1" step="1" required><br>




        <button type="button" onclick="calculateGrade()">Calculer</button>
    </form>

    <h2>🧑‍🔧Résultat:</h2>
    <p id="result"></p>

    <script>

        // Function to set a cookie with a given name and value
        function setCookie(name, value) {
            document.cookie = name + "=" + value + "; path=/";
        }

        // Function to get a cookie by name
        function getCookie(name) {
            var nameEQ = name + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) === ' ') c = c.substring(1, c.length);
                if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
            }
            return null;
        }

        // Function to save grades to cookies
        function saveGradesToCookies() {
            var inputs = document.querySelectorAll('input');
            inputs.forEach(function (input) {
                setCookie(input.name, input.value);
            });
        }

        function loadGradesFromCookies() {
        var inputs = document.querySelectorAll('input');
        inputs.forEach(function (input) {
        var value = getCookie(input.name);
        if (value !== null) {
            input.value = parseFloat(value); // Convert to number
            }
            });
        }

        // Call the loadGradesFromCookies function when the page loads
        window.onload = loadGradesFromCookies;

        // Your existing calculateGrade function
        function calculateGrade() {
            var qcm101 = parseFloat(document.getElementById("qcm101").value);
            var qcm101bis = parseFloat(document.getElementById("qcm101bis").value);
            var qcm102 = parseFloat(document.getElementById("qcm102").value);
            var mds1 = parseFloat(document.getElementById("mds1").value);
            var qcm103 = parseFloat(document.getElementById("qcm103").value);
            var lean = parseFloat(document.getElementById("lean").value);
            var qcm104 = parseFloat(document.getElementById("qcm104").value);
            var qcm105 = parseFloat(document.getElementById("qcm105").value);
            var mds2 = parseFloat(document.getElementById("mds2").value);

            var ds1 = document.getElementById("ds1").value ? parseFloat(document.getElementById("ds1").value) : -10;

            var moyQCM = (0.8 * Math.max(qcm101, qcm101bis) + 0.2 * Math.min(qcm101, qcm101bis) + qcm103 + 1.3 * (0.7 * Math.max(qcm104, qcm105) + 0.3 * Math.min(qcm104, qcm105) ) ) /(33/10);
            var moyMDS = (1.2 * Math.max(mds1, qcm102) + 0.8 * Math.min(mds1, qcm102) + 1.25 * mds2 + 0.75 * qcm105) / 4;
            var moyLean = lean;
            var moyDS = ds1;

if (ds1 == -10) {
    var res = (0.07 * moyQCM + 0.1 * moyMDS + 0.1* moyLean) / (27/100);
document.getElementById("result").textContent = "Résultat: " + res.toFixed(2) + " \n MoyQCM:" + moyQCM.toFixed(2) + " MoyMDS:" + moyMDS.toFixed(2) + " MoyTDM:" + moyLean.toFixed(2);

  } else {
    var res = (0.07 * moyQCM + 0.1 * moyMDS + 0.1 * moyLean + 0.1*moyDS) / (37/100);
    document.getElementById("result").textContent = "Résultat: " + res.toFixed(2) + "\n MoyQCM:" + moyQCM.toFixed(2) + " MoyMDS:" + moyMDS.toFixed(2) + " MoyTDM:" + moyLean.toFixed(2) + " MoyDS:" + moyDS.toFixed(2) ;
  }

            
            saveGradesToCookies();
        }
    </script>



    
</body>
</html>
